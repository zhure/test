"use strict";(self["webpackChunkstray_animal_rescue_system"]=self["webpackChunkstray_animal_rescue_system"]||[]).push([[255],{8255:function(e,a,t){t.r(a),t.d(a,{default:function(){return m}});var n=t(6252);const l={style:{padding:"10px"}},r={style:{margin:"10px 0"}},s=(0,n.Uk)("查询"),i={style:{margin:"10px 0"}};function o(e,a,t,o,p,d){const u=(0,n.up)("el-input"),h=(0,n.up)("el-button"),m=(0,n.up)("el-table-column"),c=(0,n.up)("el-popconfirm"),g=(0,n.up)("el-table"),C=(0,n.up)("el-pagination");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("div",r,[(0,n.Wm)(u,{modelValue:p.search,"onUpdate:modelValue":a[0]||(a[0]=e=>p.search=e),placeholder:"请输入评论ID",style:{width:"20%"},clearable:""},null,8,["modelValue"]),(0,n.Wm)(h,{type:"primary",style:{"margin-left":"5px"},onClick:d.load},{default:(0,n.w5)((()=>[s])),_:1},8,["onClick"])]),(0,n.Wm)(g,{data:p.tableData,stripe:"",border:"",style:{width:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{prop:"id",label:"ID",sortable:""}),(0,n.Wm)(m,{prop:"time",label:"时间",sortable:""}),(0,n.Wm)(m,{prop:"content",label:"评论内容",width:"700px"}),(0,n.Wm)(m,{fixed:"right",label:"Operations",width:"120px"},{default:(0,n.w5)((e=>[(0,n.Wm)(c,{title:"Are you sure to delete this?",onConfirm:a=>d.handleDelete(e.row.id)},{reference:(0,n.w5)((()=>[(0,n.Wm)(h,{icon:p.Delete,type:"danger"},null,8,["icon"])])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),(0,n._)("div",i,[(0,n.Wm)(C,{currentPage:p.currentPage4,"onUpdate:currentPage":a[1]||(a[1]=e=>p.currentPage4=e),"page-size":p.pageSize4,"onUpdate:page-size":a[2]||(a[2]=e=>p.pageSize4=e),"page-sizes":[5,10,20],layout:"total, sizes, prev, pager, next, jumper",total:p.total,onSizeChange:d.handleSizeChange,onCurrentChange:d.handleCurrentChange},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])])])}var p=t(4471),d={name:"CommentManage",data(){return{Delete:"Delete",tableData:[],search:"",currentPage4:1,pageSize4:10,total:1}},created(){this.load()},methods:{load(){p.Z.get("/comment",{params:{pageNum:this.currentPage4,pageSize:this.pageSize4,search:this.search}}).then((e=>{this.tableData=e.data.records,this.total=e.data.total}))},handleSizeChange(){this.load()},handleCurrentChange(){this.load()},async handleDelete(e){await p.Z["delete"]("/comment/"+e).then((e=>{"0"===e.code?this.$message({type:"success",message:"删除成功"}):this.$message({type:"error",message:e.msg})})),this.load()}}},u=t(3744);const h=(0,u.Z)(d,[["render",o]]);var m=h}}]);
//# sourceMappingURL=255.a6e5e865.js.map