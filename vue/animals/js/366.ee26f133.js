"use strict";(self["webpackChunkstray_animal_rescue_system"]=self["webpackChunkstray_animal_rescue_system"]||[]).push([[366],{5366:function(e,a,l){l.r(a),l.d(a,{default:function(){return f}});var t=l(6252),n=l(9963),s=l(3577);const i=e=>((0,t.dD)("data-v-1bf89a27"),e=e(),(0,t.Cn)(),e),o={style:{"margin-left":"30px"},id:"all"},r=i((()=>(0,t._)("div",{id:"allmap"},null,-1))),d=(0,t.Uk)("查询"),u=i((()=>(0,t._)("div",null,[(0,t._)("span",null,"以上均来源于网络，参考网站如下"),(0,t._)("a",{href:"https://www.sohu.com/a/166237131_722596"},[(0,t._)("p",null,"【干货】全国各地流浪动物保护机构（团队）联系方式，持续更新中……")])],-1)));function c(e,a,l,i,c,p){const m=(0,t.up)("el-col"),_=(0,t.up)("el-option"),v=(0,t.up)("el-select"),h=(0,t.up)("el-button"),w=(0,t.up)("el-divider"),f=(0,t.up)("el-row"),g=(0,t.up)("el-card");return(0,t.wg)(),(0,t.j4)(f,null,{default:(0,t.w5)((()=>[(0,t.Wm)(m,{span:11},{default:(0,t.w5)((()=>[(0,t._)("div",o,[(0,t.wy)((0,t._)("input",{type:"text",id:"suggestId",name:"address_detail",placeholder:"地址","onUpdate:modelValue":a[0]||(a[0]=e=>c.address_detail=e),class:"input_style"},null,512),[[n.nr,c.address_detail]]),r])])),_:1}),(0,t.Wm)(m,{span:13},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{style:{"margin-right":"20px"},shadow:"never"},{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t.Wm)(v,{modelValue:c.search,"onUpdate:modelValue":a[1]||(a[1]=e=>c.search=e),class:"m-2",placeholder:"Select",clearable:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(c.provincial,(e=>((0,t.wg)(),(0,t.j4)(_,{key:e.pid,label:e.province,value:e.pid},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,t.Wm)(h,{type:"primary",style:{"margin-left":"5px"},onClick:p.load},{default:(0,t.w5)((()=>[d])),_:1},8,["onClick"])]),(0,t.Wm)(w),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(c.bases,(e=>((0,t.wg)(),(0,t.j4)(f,{class:"base-text"},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{span:9},{default:(0,t.w5)((()=>[(0,t._)("span",null,(0,s.zw)(e.name),1)])),_:2},1024),(0,t.Wm)(m,{span:15},{default:(0,t.w5)((()=>[(0,t._)("span",null,(0,s.zw)(e.contactWay),1)])),_:2},1024),(0,t.Wm)(w)])),_:2},1024)))),256)),u])),_:1})])),_:1})])),_:1})}var p=l(7515),m=l.n(p),_=l(4471),v={name:"BasePosition",data(){return{address_detail:null,userlocation:{lng:"",lat:""},bases:[],provincial:[],search:""}},mounted(){this.$nextTick((function(){var e=this,a=new(m().Map)("allmap"),l=new(m().Point)(109.46881355223,24.346570436871);a.centerAndZoom(l,15),a.enableScrollWheelZoom();var t,n=new(m().Autocomplete)({input:"suggestId",location:a});function s(){function l(){e.userlocation=n.getResults().getPoi(0).point,a.centerAndZoom(e.userlocation,18),a.addOverlay(new(m().Marker)(e.userlocation))}a.clearOverlays();var n=new(m().LocalSearch)(a,{onSearchComplete:l});n.search(t),a.addEventListener("click",(function(a){console.log(e.userlocation.lng),console.log(e.userlocation.lat)}))}n.addEventListener("onconfirm",(function(e){var a=e.item.value;t=a.province+a.city+a.district+a.street+a.business,this.address_detail=t,s()}))}))},created(){this.getProvincial(),this.load()},methods:{load(){_.Z.get("/base/province",{params:{id:this.search}}).then((e=>{this.bases=e.data}))},getProvincial(){_.Z.get("/provincial").then((e=>{this.provincial=e.data}))}}},h=l(3744);const w=(0,h.Z)(v,[["render",c],["__scopeId","data-v-1bf89a27"]]);var f=w}}]);
//# sourceMappingURL=366.ee26f133.js.map