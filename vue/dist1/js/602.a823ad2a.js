"use strict";(self["webpackChunkstray_animal_rescue_system"]=self["webpackChunkstray_animal_rescue_system"]||[]).push([[602],{7602:function(e,r,s){s.r(r),s.d(r,{default:function(){return _}});var l=s(6252),o=s(3709);const a=e=>((0,l.dD)("data-v-bc314532"),e=e(),(0,l.Cn)(),e),t=a((()=>(0,l._)("div",null,[(0,l._)("img",{class:"background",src:o,alt:"background"})],-1))),u={class:"login_box"},m=a((()=>(0,l._)("span",{style:{color:"#49657e",size:"A3","margin-left":"10px","margin-right":"10px"}},"用户类型：",-1))),n=a((()=>(0,l._)("span",{style:{"margin-left":"110px",color:"#ffffff",size:"unset"}},"还没有账号？",-1))),i=(0,l.Uk)("点此注册"),d=(0,l.Uk)("登 录");function p(e,r,s,o,a,p){const f=(0,l.up)("el-input"),c=(0,l.up)("el-form-item"),g=(0,l.up)("el-option"),h=(0,l.up)("el-select"),w=(0,l.up)("el-button"),_=(0,l.up)("el-form"),y=(0,l.up)("Register");return(0,l.wg)(),(0,l.iD)("div",null,[t,(0,l._)("div",u,[(0,l.Wm)(_,{ref:"form",model:a.form,size:"mini",rules:a.rules},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{prop:"username"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{"prefix-icon":"user",placeholder:"用户名",modelValue:a.form.username,"onUpdate:modelValue":r[0]||(r[0]=e=>a.form.username=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(c,{prop:"password"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{"prefix-icon":"lock",placeholder:"密码",modelValue:a.form.password,"onUpdate:modelValue":r[1]||(r[1]=e=>a.form.password=e),"show-password":""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(c,{label:"",prop:"userType"},{default:(0,l.w5)((()=>[m,(0,l.Wm)(h,{modelValue:a.form.userType,"onUpdate:modelValue":r[2]||(r[2]=e=>a.form.userType=e),placeholder:"请选择用户类型",style:{width:"65%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{label:"普通用户",value:"1"}),(0,l.Wm)(g,{label:"医疗人员",value:"2"})])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[n,(0,l.Wm)(w,{style:{"margin-left":"10px"},size:"mini",type:"text",onClick:r[3]||(r[3]=e=>a.registerShow=!0)},{default:(0,l.w5)((()=>[i])),_:1})])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{style:{width:"100%","background-color":"rgba(57,139,246,0.52)"},type:"primary",onClick:p.login},{default:(0,l.w5)((()=>[d])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])]),(0,l._)("div",null,[a.registerShow?((0,l.wg)(),(0,l.j4)(y,{key:0,onClose:p.close},null,8,["onClose"])):(0,l.kq)("",!0)])])}var f=s(8447),c=s(4471),g=(s(2269),{name:"UserLogin",components:{Register:f.Z},data(){return{form:{username:"",password:"",userType:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},registerShow:!1}},methods:{login(){let e=this;this.$refs["form"].validate((r=>{r&&c.Z.post("/user/login",{username:this.form.username,password:this.form.password,userType:this.form.userType}).then((r=>{"0"===r.code?(this.$message({type:"success",message:"登陆成功"}),c.Z.get("/user/"+e.form.username).then((r=>{e.$store.commit("login",r.data)})),"1"===e.form.userType?this.$router.push("/"):this.$router.push("/im")):this.$message({type:"error",message:r.msg})}))}))},close(e){this.registerShow=e}}}),h=s(3744);const w=(0,h.Z)(g,[["render",p],["__scopeId","data-v-bc314532"]]);var _=w}}]);
//# sourceMappingURL=602.a823ad2a.js.map