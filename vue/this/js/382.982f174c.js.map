{"version":3,"file":"js/382.982f174c.js","mappings":"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","sources":["webpack://stray-animal-rescue-system/./src/views/user/BasePosition.vue","webpack://stray-animal-rescue-system/./src/views/user/BasePosition.vue?6c58"],"sourcesContent":["<template>\r\n  <el-row>\r\n    <el-col :span=\"11\">\r\n      <div style=\"margin-left: 30px\" id=\"all\">\r\n        <input type=\"text\" id=\"suggestId\" name=\"address_detail\" placeholder=\"地址\" v-model=\"address_detail\" class=\"input_style\">\r\n        <div id=\"allmap\"></div>\r\n      </div>\r\n    </el-col>\r\n    <el-col :span=\"13\">\r\n      <el-card style=\"margin-right: 20px\" shadow=\"never\">\r\n        <div>\r\n          <el-select v-model=\"search\" class=\"m-2\" placeholder=\"Select\" clearable>\r\n            <el-option\r\n                v-for=\"item in provincial\"\r\n                :key=\"item.pid\"\r\n                :label=\"item.province\"\r\n                :value=\"item.pid\"\r\n            />\r\n          </el-select>\r\n          <el-button type=\"primary\" style=\"margin-left: 5px\" @click=\"load\">查询</el-button>\r\n        </div>\r\n        <el-divider/>\r\n        <el-row class=\"base-text\" v-for=\"base in bases\">\r\n          <el-col :span=\"9\">\r\n            <span>{{ base.name }}</span>\r\n          </el-col>\r\n          <el-col :span=\"15\">\r\n            <span>{{ base.contactWay }}</span>\r\n          </el-col>\r\n          <el-divider/>\r\n        </el-row>\r\n        <div>\r\n          <span>以上均来源于网络，参考网站如下</span>\r\n          <a href=\"https://www.sohu.com/a/166237131_722596\">\r\n            <p>【干货】全国各地流浪动物保护机构（团队）联系方式，持续更新中……</p>\r\n          </a>\r\n        </div>\r\n      </el-card>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n\r\n<script>\r\nimport BMap from 'BMap'\r\nimport request from \"@/utils/request\";\r\nexport default {\r\n  name: 'BasePosition',\r\n  data(){\r\n    return {\r\n      //详细地址\r\n      address_detail: null,\r\n      userlocation: {lng: \"\", lat: \"\"},\r\n      bases: [],\r\n      provincial: [],\r\n      search:'',\r\n\r\n    }\r\n  },\r\n  mounted(){\r\n    this.$nextTick(function () {\r\n      var th = this\r\n      // 创建Map实例\r\n      var map = new BMap.Map(\"allmap\");\r\n      // 初始化地图,设置中心点坐标，\r\n      var point = new BMap.Point(109.46881355223,24.346570436871);\r\n      // 创建点坐标，汉得公司的经纬度坐标\r\n      map.centerAndZoom(point, 15);\r\n      map.enableScrollWheelZoom();\r\n\r\n      //建立一个自动完成的对象\r\n      var ac = new BMap.Autocomplete({\r\n        \"input\": \"suggestId\" ,\r\n        \"location\": map\r\n      })\r\n\r\n      var myValue\r\n      //鼠标点击下拉列表后的事件\r\n      ac.addEventListener(\"onconfirm\", function (e) {\r\n        var _value = e.item.value;\r\n        myValue = _value.province + _value.city + _value.district + _value.street + _value.business;\r\n        this.address_detail = myValue\r\n        setPlace();\r\n      });\r\n\r\n      function setPlace() {\r\n        //清除地图上所有覆盖物\r\n        map.clearOverlays();\r\n        function myFun() {\r\n          //获取第一个智能搜索的结果\r\n          th.userlocation = local.getResults().getPoi(0).point;\r\n          map.centerAndZoom(th.userlocation, 18);\r\n          //添加标注\r\n          map.addOverlay(new BMap.Marker(th.userlocation));\r\n        }\r\n\r\n        //智能搜索\r\n        var local = new BMap.LocalSearch(map, {\r\n          onSearchComplete: myFun\r\n        });\r\n        local.search(myValue);\r\n\r\n        //测试输出坐标（指的是输入框最后确定地点的经纬度）\r\n        map.addEventListener(\"click\",function(e){\r\n          //经度\r\n          console.log(th.userlocation.lng);\r\n          //维度\r\n          console.log(th.userlocation.lat);\r\n        })\r\n      }\r\n    })\r\n  },\r\n  created() {\r\n    this.getProvincial()\r\n    this.load()\r\n  },\r\n  methods: {\r\n    load() {\r\n      console.log(this.search)\r\n      request.get('/base/province', {\r\n        params: {\r\n          id: this.search\r\n        }\r\n      }).then(res => {\r\n        this.bases = res.data\r\n      })\r\n    },\r\n    getProvincial() {\r\n      request.get('/provincial').then(res => {\r\n        this.provincial = res.data\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n//*{\r\n//  margin: 0;\r\n//  padding: 0;\r\n//  list-style: none;\r\n//}\r\n#suggestId{\r\n  width: 598px;\r\n  height: 35px;\r\n}\r\n#allmap{\r\n  width: 600px;\r\n  height: 600px;\r\n  border: 1px solid green;\r\n}\r\n.base-text {\r\n  span {\r\n    color: #675e5e;\r\n    font-family: 华文宋体;\r\n    //padding: 5px;\r\n    //top:20px;\r\n  }\r\n}\r\n</style>\r\n\r\n","import { render } from \"./BasePosition.vue?vue&type=template&id=4031fc3b&scoped=true\"\nimport script from \"./BasePosition.vue?vue&type=script&lang=js\"\nexport * from \"./BasePosition.vue?vue&type=script&lang=js\"\n\nimport \"./BasePosition.vue?vue&type=style&index=0&id=4031fc3b&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\竹诺\\\\Desktop\\\\springboot+vue框架\\\\stray-animal-rescue-system\\\\vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4031fc3b\"]])\n\nexport default __exports__"],"names":["style","id","_createElementVNode","href","_createBlock","_component_el_row","_createVNode","_component_el_col","span","type","name","placeholder","$data","$event","class","_hoisted_2","_component_el_card","shadow","_component_el_select","clearable","_createElementBlock","_Fragment","_renderList","item","_component_el_option","key","pid","label","province","value","_component_el_button","onClick","$options","_component_el_divider","base","_toDisplayString","contactWay","_hoisted_4","data","address_detail","userlocation","lng","lat","bases","provincial","search","mounted","this","$nextTick","th","map","BMap","point","centerAndZoom","enableScrollWheelZoom","myValue","ac","setPlace","myFun","local","getResults","getPoi","addOverlay","clearOverlays","onSearchComplete","addEventListener","e","console","log","_value","city","district","street","business","created","getProvincial","load","methods","request","params","then","res","__exports__","render"],"sourceRoot":""}