"use strict";(self["webpackChunkstray_animal_rescue_system"]=self["webpackChunkstray_animal_rescue_system"]||[]).push([[336],{2336:function(e,a,l){l.r(a),l.d(a,{default:function(){return w}});var t=l(6252);const i={style:{padding:"10px"}},o={style:{margin:"10px 0"}},s=(0,t.Uk)("查询"),r=(0,t.Uk)("新增"),n=(0,t.Uk)("编辑"),d=(0,t.Uk)("删除"),m={style:{margin:"10px 0"}},p={class:"dialog-footer"},u=(0,t.Uk)("取消"),c=(0,t.Uk)("确认");function h(e,a,l,h,g,f){const b=(0,t.up)("el-input"),y=(0,t.up)("el-option"),w=(0,t.up)("el-select"),W=(0,t.up)("el-button"),C=(0,t.up)("el-table-column"),V=(0,t.up)("el-popconfirm"),_=(0,t.up)("el-table"),v=(0,t.up)("el-pagination"),k=(0,t.up)("el-form-item"),z=(0,t.up)("el-form"),U=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.iD)("div",i,[(0,t._)("div",o,[(0,t.Wm)(b,{modelValue:g.search,"onUpdate:modelValue":a[0]||(a[0]=e=>g.search=e),placeholder:"请输入基地名称",style:{width:"20%"},clearable:""},null,8,["modelValue"]),(0,t.Wm)(w,{style:{"margin-left":"5px"},modelValue:g.pId,"onUpdate:modelValue":a[1]||(a[1]=e=>g.pId=e),class:"m-2",placeholder:"Select",clearable:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(g.provincial,(e=>((0,t.wg)(),(0,t.j4)(y,{key:e.pid,label:e.province,value:e.pid},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,t.Wm)(W,{type:"primary",style:{"margin-left":"5px"},onClick:f.load},{default:(0,t.w5)((()=>[s])),_:1},8,["onClick"]),(0,t.Wm)(W,{type:"primary",onClick:a[2]||(a[2]=e=>g.dialogVisible=!0)},{default:(0,t.w5)((()=>[r])),_:1})]),(0,t.Wm)(_,{data:g.tableData,stripe:"",border:"",style:{width:"100%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{prop:"id",label:"ID",sortable:""}),(0,t.Wm)(C,{prop:"name",label:"基地名称"}),(0,t.Wm)(C,{prop:"contactWay",label:"联系方式",width:"600px"}),(0,t.Wm)(C,{fixed:"right",label:"Operations",width:"120px"},{default:(0,t.w5)((e=>[(0,t.Wm)(W,{type:"text",onClick:a=>f.handleEdit(e.row)},{default:(0,t.w5)((()=>[n])),_:2},1032,["onClick"]),(0,t.Wm)(V,{title:"Are you sure to delete this?",onConfirm:a=>f.handleDelete(e.row.id)},{reference:(0,t.w5)((()=>[(0,t.Wm)(W,{type:"text"},{default:(0,t.w5)((()=>[d])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),(0,t._)("div",m,[(0,t.Wm)(v,{currentPage:g.currentPage4,"onUpdate:currentPage":a[3]||(a[3]=e=>g.currentPage4=e),"page-size":g.pageSize4,"onUpdate:page-size":a[4]||(a[4]=e=>g.pageSize4=e),"page-sizes":[5,10,20],layout:"total, sizes, prev, pager, next, jumper",total:g.total,onSizeChange:f.handleSizeChange,onCurrentChange:f.handleCurrentChange},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])]),(0,t.Wm)(U,{title:"流浪动物基地",center:"",modelValue:g.dialogVisible,"onUpdate:modelValue":a[8]||(a[8]=e=>g.dialogVisible=e),width:"30%"},{footer:(0,t.w5)((()=>[(0,t._)("span",p,[(0,t.Wm)(W,{size:"normal",onClick:f.cancel},{default:(0,t.w5)((()=>[u])),_:1},8,["onClick"]),(0,t.Wm)(W,{size:"normal",type:"primary",onClick:f.save},{default:(0,t.w5)((()=>[c])),_:1},8,["onClick"])])])),default:(0,t.w5)((()=>[(0,t.Wm)(z,{size:"normal",model:g.form,"label-width":"120px"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"所在省份"},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{size:"normal",modelValue:g.form.pid,"onUpdate:modelValue":a[5]||(a[5]=e=>g.form.pid=e),class:"m-2",placeholder:"Select",clearable:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(g.provincial,(e=>((0,t.wg)(),(0,t.j4)(y,{key:e.pid,label:e.province,value:e.pid},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(k,{label:"基地名称"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{size:"normal",modelValue:g.form.name,"onUpdate:modelValue":a[6]||(a[6]=e=>g.form.name=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(k,{label:"联系方式"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{size:"normal",modelValue:g.form.contactWay,"onUpdate:modelValue":a[7]||(a[7]=e=>g.form.contactWay=e),style:{width:"80%"},type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}var g=l(4471),f={name:"BaseManage",data(){return{search:"",pId:"",currentPage4:1,pageSize4:10,total:1,tableData:[],provincial:[],form:{},dialogVisible:!1}},created(){this.getProvincial(),this.load()},methods:{load(){g.Z.get("/base",{params:{pageNum:this.currentPage4,pageSize:this.pageSize4,search:this.search,pId:this.pId}}).then((e=>{this.tableData=e.data.records,this.total=e.data.total}))},getProvincial(){g.Z.get("/provincial").then((e=>{this.provincial=e.data}))},handleSizeChange(){this.load()},handleCurrentChange(){this.load()},handleEdit(e){this.form=e,this.dialogVisible=!0},handleDelete(e){g.Z["delete"]("/base/"+e).then((e=>{"0"===e.code?(this.$message({type:"success",message:"删除成功"}),this.load()):this.$message({type:"error",message:e.msg})}))},save(){void 0===this.form.id?g.Z.post("/base",this.form).then((e=>{"0"===e.code?(this.$message({type:"success",message:"添加成功"}),this.load()):this.$message({type:"error",message:e.msg})})):g.Z.put("/base",this.form).then((e=>{"0"===e.code?(this.$message({type:"success",message:"更新成功"}),this.load()):this.$message({type:"error",message:e.msg})})),this.dialogVisible=!1},cancel(){this.form={},this.dialogVisible=!1}}},b=l(3744);const y=(0,b.Z)(f,[["render",h]]);var w=y}}]);
//# sourceMappingURL=336.6985ac55.js.map