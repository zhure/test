"use strict";(self["webpackChunkstray_animal_rescue_system"]=self["webpackChunkstray_animal_rescue_system"]||[]).push([[99],{9099:function(e,a,t){t.r(a),t.d(a,{default:function(){return d}});var s=t(6252);const r={style:{padding:"10px"}},l=(0,s.Uk)("下载文件"),n={style:{margin:"10px 0"}};function i(e,a,t,i,o,p){const u=(0,s.up)("el-table-column"),c=(0,s.up)("el-image"),d=(0,s.up)("el-button"),h=(0,s.up)("el-table"),g=(0,s.up)("el-pagination");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s.Wm)(h,{data:o.tableData,style:{width:"100%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{prop:"userId",label:"userID"}),(0,s.Wm)(u,{prop:"nickName",label:"昵称"}),(0,s.Wm)(u,{prop:"vetDescribe",label:"描述"}),(0,s.Wm)(u,{prop:"headImg",label:"头像"},{default:(0,s.w5)((e=>[(0,s.Wm)(c,{"preview-teleported":"true",style:{width:"100px",height:"100px"},src:e.row.headImg,"preview-src-list":[e.row.headImg],fit:"cover"},null,8,["src","preview-src-list"])])),_:1}),(0,s.Wm)(u,{label:"资料"},{default:(0,s.w5)((e=>[(0,s.Wm)(d,{type:"default",plain:"",onClick:a=>p.readInfo(e.row.realInfo)},{default:(0,s.w5)((()=>[l])),_:2},1032,["onClick"])])),_:1}),(0,s.Wm)(u,{fixed:"right",label:"Operations",width:"120px"},{default:(0,s.w5)((e=>[(0,s.Wm)(d,{type:"success",icon:o.Check,size:"small",plain:"",onClick:a=>p.approved(e.row.userId)},null,8,["icon","onClick"]),(0,s.Wm)(d,{type:"danger",icon:o.Close,size:"small",plain:"",onClick:a=>p.fail(e.row.userId)},null,8,["icon","onClick"])])),_:1})])),_:1},8,["data"]),(0,s._)("div",n,[(0,s.Wm)(g,{currentPage:o.currentPage4,"onUpdate:currentPage":a[0]||(a[0]=e=>o.currentPage4=e),"page-size":o.pageSize4,"onUpdate:page-size":a[1]||(a[1]=e=>o.pageSize4=e),"page-sizes":[5,10,20],layout:"total, sizes, prev, pager, next, jumper",total:o.total,onSizeChange:p.handleSizeChange,onCurrentChange:p.handleCurrentChange},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])])])}var o=t(4471),p={name:"VetAudit",data(){return{tableData:[],search:"",currentPage4:1,pageSize4:5,isPass:1,total:1,url:"",Check:"Check",Close:"Close"}},created(){this.load()},methods:{load(){o.Z.get("/vet",{params:{pageNum:this.currentPage4,pageSize:this.pageSize4,search:this.search,isPass:this.isPass}}).then((e=>{this.tableData=e.data.records,this.total=e.data.total}))},handleSizeChange(){this.load()},handleCurrentChange(){this.load()},readInfo(e){this.url=e,window.open(e,"_parent")},async approved(e){await o.Z.put("/vet/"+e).then((e=>{"0"===e.code?this.$message({type:"success",message:"审核成功"}):this.$message({type:"error",message:e.msg})})),this.load()},async fail(e){await o.Z["delete"]("/vet/"+e).then((e=>{"0"===e.code?this.$message({type:"success",message:"审核成功"}):this.$message({type:"error",message:e.msg})})),this.load()}}},u=t(3744);const c=(0,u.Z)(p,[["render",i]]);var d=c}}]);
//# sourceMappingURL=99.32a9f693.js.map